
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Área Administrativa - AREA</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin:0; padding:0;
    background: #f0f0f0;
  }
  header {
    background:#004080;
    color:#fff;
    padding: 1rem;
    text-align:center;
  }
  header img.logo {
    max-height: 60px;
    vertical-align: middle;
  }
  main {
    max-width: 700px;
    margin: 2rem auto;
    background: #fff;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 0 10px rgb(0 0 0 / 0.1);
  }
  #banner {
    width: 100%;
    max-height: 200px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 1rem;
  }
  #loginForm input {
    width: 100%;
    padding: 0.7rem;
    margin: 0.5rem 0;
    font-size: 1rem;
  }
  #loginForm button {
    width: 100%;
    padding: 0.7rem;
    font-size: 1.1rem;
    background: #004080;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 4px;
  }
  #loginForm button:hover {
    background: #003060;
  }
  #adminArea, #pdfSection {
    display: none;
  }
  #pdfList {
    margin-top: 1rem;
  }
  #pdfList ul {
    list-style: none;
    padding-left: 0;
  }
  #pdfList li {
    margin: 0.4rem 0;
  }
  #pdfList a {
    color: #004080;
    text-decoration: none;
    cursor: pointer;
  }
  #pdfList a:hover {
    text-decoration: underline;
  }
  #logoutBtn {
    margin-top: 1rem;
    padding: 0.6rem 1.2rem;
    background: #cc0000;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 4px;
  }
  #logoutBtn:hover {
    background: #a30000;
  }
  footer {
    margin-top: 3rem;
    padding: 1rem;
    text-align: center;
    font-size: 0.9rem;
    color: #666;
  }
  /* Modal */
  #pdfModal {
    display: none;
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.7);
    z-index: 9999;
    justify-content: center;
    align-items: center;
  }
  #pdfModal iframe {
    width: 90vw;
    height: 90vh;
    border: none;
    border-radius: 8px;
    background: white;
  }
  #pdfModal .closeBtn {
    position: fixed;
    top: 1rem;
    right: 1rem;
    background: #cc0000;
    border: none;
    color: white;
    font-size: 1.5rem;
    padding: 0.3rem 0.7rem;
    cursor: pointer;
    border-radius: 4px;
  }
  @media (max-width: 480px) {
    main {
      margin: 1rem;
    }
  }
</style>
</head>
<body>

<header>
  <img src="logo.png" alt="AREA Logomarca" class="logo" />
  <h1>Área Administrativa - AREA</h1>
</header>

<main>

  <img src="banner.jpg" alt="Banner da AREA" id="banner" />

  <section id="loginForm">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Usuário" autocomplete="username" />
    <input type="password" id="password" placeholder="Senha" autocomplete="current-password" />
    <button onclick="login()">Entrar</button>
  </section>

  <section id="adminArea">
    <h2>Área Administrativa</h2>
    <p>Bem-vindo, secretaria!</p>
    <p>Aqui estão os PDFs disponíveis:</p>
    <div id="pdfList">
      <ul id="pdfs"></ul>
    </div>
    <button id="uploadLinkBtn">Enviar PDF via GitHub</button>
    <br />
    <button id="logoutBtn">Sair</button>
  </section>

  <section id="pdfSection">
    <h2>Revistas e PDFs</h2>
    <div id="pdfListPublic">
      <ul id="pdfsPublic"></ul>
    </div>
  </section>

</main>

<footer>
  <p>Contato: contato@area.org.br</p>
</footer>

<!-- Modal para visualização -->
<div id="pdfModal">
  <button class="closeBtn" onclick="closeModal()">×</button>
  <iframe src="" id="pdfFrame"></iframe>
</div>

<script>
  const USERNAME = "secretaria";
  const PASSWORD = "area2024";

  const loginForm = document.getElementById("loginForm");
  const adminArea = document.getElementById("adminArea");
  const pdfsList = document.getElementById("pdfs");
  const uploadLinkBtn = document.getElementById("uploadLinkBtn");
  const logoutBtn = document.getElementById("logoutBtn");

  const pdfSection = document.getElementById("pdfSection");
  const pdfsPublicList = document.getElementById("pdfsPublic");

  const pdfModal = document.getElementById("pdfModal");
  const pdfFrame = document.getElementById("pdfFrame");

  function login() {
    const user = document.getElementById("username").value.trim();
    const pass = document.getElementById("password").value.trim();
    if(user === USERNAME && pass === PASSWORD) {
      loginForm.style.display = "none";
      adminArea.style.display = "block";
      pdfSection.style.display = "block";
      loadPdfs();
    } else {
      alert("Usuário ou senha incorretos.");
    }
  }

  async function loadPdfs() {
    try {
      const res = await fetch('pdfs.json');
      const pdfs = await res.json();

      pdfsList.innerHTML = "";
      pdfsPublicList.innerHTML = "";

      pdfs.forEach(pdf => {
        // Área administrativa
        const liAdmin = document.createElement("li");
        const aAdmin = document.createElement("a");
        aAdmin.textContent = pdf.name;
        aAdmin.href = "#";
        aAdmin.onclick = e => {
          e.preventDefault();
          openModal(pdf.url);
        };
        liAdmin.appendChild(aAdmin);
        pdfsList.appendChild(liAdmin);

        // Área pública
        const liPub = document.createElement("li");
        const aPub = document.createElement("a");
        aPub.textContent = pdf.name;
        aPub.href = "#";
        aPub.onclick = e => {
          e.preventDefault();
          openModal(pdf.url);
        };
        liPub.appendChild(aPub);
        pdfsPublicList.appendChild(liPub);
      });

    } catch(err) {
      alert("Erro ao carregar lista de PDFs.");
      console.error(err);
    }
  }

  function openModal(url) {
    pdfFrame.src = url;
    pdfModal.style.display = "flex";
  }
  function closeModal() {
    pdfFrame.src = "";
    pdfModal.style.display = "none";
  }

  uploadLinkBtn.onclick = () => {
    window.open("https://github.com/eaport/area-pdfs", "_blank");
  };

  logoutBtn.onclick = () => {
    adminArea.style.display = "none";
    pdfSection.style.display = "none";
    loginForm.style.display = "block";
    document.getElementById("username").value = "";
    document.getElementById("password").value = "";
  };

  window.onload = () => {
    pdfSection.style.display = "block";
    loadPdfs();
  };
</script>

</body>
</html>
